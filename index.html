<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oasis AR</title>
    <style>
      @font-face {
        font-family: 'Droulers';
        src: url('Droulers.otf') format('opentype');
      }
      body {
        margin: 0;
        padding: 0;
        background: #000;
        color: #fff;
        height: 100vh;
        width: 100vw;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }
      .preview {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        max-height: 80%;
        width: 100%;
      }
      .preview img {
        width: 100%;
        height: auto;
        object-fit: contain;
      }
      .caption {
        font-family: 'Droulers', sans-serif;
        font-size: 1.5em;
        text-align: center;
        margin: 0 0 1em 0;
        position: absolute;
        bottom: 0;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <script>
      const ua = navigator.userAgent.toLowerCase();
      const isIOS = /iphone|ipod/.test(ua);
      const isIPad = /ipad/.test(ua) || 
                     (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);

      if (isIOS || isIPad) {
        // iOS + iPadOS → USDZ with AR Quick Look
        document.write(`
          <div class="preview">
            <a href="oasis1.usdz#anchor=ar&allowsContentScaling=1&placement=floor" rel="ar">
              <img src="oasis1.png" alt="View in AR">
            </a>
          </div>
          <div class="caption">What could have been...</div>
        `);
      } else if (/android/.test(ua)) {
        // Android → GLB with Scene Viewer
        document.write(`
          <div class="preview">
            <a href="intent://arvr.google.com/scene-viewer/1.0?file=${location.origin}/oasis1.glb&mode=ar_preferred#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;end;">
              <img src="oasis1.png" alt="View in AR">
            </a>
          </div>
          <div class="caption">What could have been...</div>
        `);
      } else {
        // Desktop fallback
        document.write(`
          <div class="preview">
            <img src="oasis1.png" alt="Oasis Preview">
          </div>
          <div class="caption">What could have been...</div>
        `);
      }
    </script>
  </body>
</html>
